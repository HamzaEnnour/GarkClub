  <div class="container" *ngIf="!isMobile">
      <h3 class="text-center">Chat</h3>
      <div class="messaging">
            <div class="inbox_msg">
              <div class="inbox_people">
                <div class="headind_srch">
                  <div class="recent_heading">
                  </div>
                  <!-- <div class="srch_bar">
                    <div class="stylish-input-group">
                      <input type="text" class="search-bar"  placeholder="Search" >
                      <span class="input-group-addon">
                      <button type="button"> <i class="fa fa-search" aria-hidden="true"></i> </button>
                      </span> </div>
                  </div> -->
                </div>
                <div class="inbox_chat">
                  <div *ngIf="flag">
                  <h4 *ngIf="flag">Propriétaire</h4>
                  <div class="chat_list" [ngClass]="{'active_chat': selectedItem == owner}">
                    <div class="chat_people" (click)="selectUser(owner)">
                     
                         <div *ngIf="!owner?.picture" class="chat_img"> 
                          <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> 
                        </div>
                        <div *ngIf="owner?.picture" class="chat_img"> 
                          <img [src]="owner?.picture" alt="sunil"> 
                        </div>
                      <div class="chat_ib">
                        <h5>{{owner?.firstName}} {{owner?.lastName}} 
                          <!-- <span class="chat_date">Dec 25</span> -->
                        </h5>
                        <!-- <p>{{lastMessage}}</p> -->
                      </div>
                    </div>
                  </div>
                </div>
                  <h4>Coaches</h4>
                  <div class="chat_list" [ngClass]="{'active_chat': selectedItem == coach}" *ngFor="let coach of coaches;">
                    <div class="chat_people" (click)="selectUser(coach)">


                       <div *ngIf="!coach?.picture" class="chat_img"> 
                        <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> 
                      </div>
                      <div *ngIf="coach?.picture" class="chat_img"> 
                        <img [src]="coach?.picture" alt="sunil"> 
                      </div>
                      <div class="chat_ib">
                        <h5>{{coach?.firstName}} {{coach?.lastName}} 
                          <!-- <span class="chat_date">Dec 25</span> -->
                        </h5>
                        <!-- <p>{{lastMessage}}</p> -->
                      </div>
                    </div>
                  </div>
                  <h4>Joueurs</h4>
                  <div class="chat_list" [ngClass]="{'active_chat': selectedItem == player?.player}" *ngFor="let player of players;">
                    <div class="chat_people" (click)="selectUser(player?.player)">
                      <div *ngIf="!player?.player?.picture" class="chat_img"> 
                        <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> 
                      </div>
                      <div *ngIf="player?.player?.picture" class="chat_img"> 
                        <img [src]="player?.player?.picture" alt="sunil"> 
                      </div>
                      <div class="chat_ib">
                        <h5>{{player?.player?.firstName}} {{player?.player?.lastName}} 
                          <!-- <span class="chat_date">Dec 25</span> -->
                        </h5>
                        <!-- <p>{{lastMessage}}</p> -->
                      </div>
                    </div>
                  </div>
                
                </div>
              </div>
              <div class="mesgs">
                <div class="msg_history" #scrollMe style="overflow: scroll; height: xyz;">
                  <div class="text-center no-message" *ngIf="!conv">
                    <p>Chargement...</p>
                  </div>

                  <div class="text-center no-message" *ngIf="conv?.length == 0">
                    <p>Pas de messages...</p>
                  </div>
                  <div *ngFor="let m of conv">
                      <div *ngIf="m?.sender != currentId">
                        <div class="incoming_msg">
                          <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                          <div class="received_msg">
                            <div class="received_withd_msg">
                              <p>{{m?.msg}}</p>
                              <span class="time_date"> {{m?.timestamp | date:'HH:mm'}}    |    {{m?.timestamp | date:'MMM d'}}</span></div>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="m?.sender == currentId">
                        <div class="outgoing_msg">
                          <div class="sent_msg">
                            <p>{{m?.msg}}</p>
                            <span class="time_date"> {{m?.timestamp | date:'HH:mm'}}    |    {{m?.timestamp | date:'MMM d'}}</span> </div>
                        </div>
                      </div>
                  </div>
                  
                </div>
                <div class="type_msg">
                  <div class="input_msg_write">
                    <form #messageForm="ngForm">
                      <input type="text" name="message" (keyup.enter)="submit(message)" class="form-control write_msg" placeholder="Votre message" [(ngModel)]="message"/>
                      <button class="msg_send_btn" type="button" (click)="submit(message)"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
                    </form>
                  </div>
                </div>
              </div>
            </div>          
          </div></div>
         



          



          
           <div class="example-container" [class.example-is-mobile]="mobileQuery.matches" *ngIf="isMobile">
            <!-- <mat-toolbar class="example-toolbar">
              <button mat-icon-button (click)="snav.toggle()"><mat-icon>menu</mat-icon></button>
              <h1 class="example-app-name">Liste</h1>
            </mat-toolbar> -->
          
            <mat-sidenav-container class="example-sidenav-container"
                                   [style.marginTop.px]="mobileQuery.matches ? 0 : 0">
              <mat-sidenav #snav [mode]="mobileQuery.matches ? 'over' : 'side'"
                           [fixedInViewport]="mobileQuery.matches" fixedTopGap="56">
                <mat-nav-list style="margin-top: 20px;">
                  <div *ngIf="flag">
                  <p>Propriétaire</p>
                  <a mat-list-item (click)="selectUser(owner); snav.toggle()" [ngClass]="{'active_chat': selectedItem == owner}">
                    <div *ngIf="!owner?.picture" class="media-left" style="margin: 10px;"> 
                      <img src="https://ptetutorials.com/images/user-profile.png" class="img-circle img-sm" alt="sunil"> 
                    </div>
                    <div *ngIf="owner?.picture" class="media-left" style="margin: 10px;"> 
                      <img [src]="owner?.picture" class="img-circle img-sm" alt="sunil"> 
                    </div>
                    {{owner?.firstName}} {{owner?.lastName}} 
                  </a>
                </div>
                    <hr />
                  <p>Coachs</p>
                  <a mat-list-item (click)="selectUser(coach); snav.toggle()" [ngClass]="{'active_chat': selectedItem == coach}" *ngFor="let coach of coaches">
                    <div *ngIf="!owner?.picture" class="media-left" style="margin: 10px;"> 
                      <img src="https://ptetutorials.com/images/user-profile.png" class="img-circle img-sm" alt="sunil"> 
                    </div>
                    <div *ngIf="owner?.picture" class="media-left" style="margin: 10px;"> 
                      <img [src]="owner?.picture" class="img-circle img-sm" alt="sunil"> 
                    </div>
                    {{coach?.firstName}} {{coach?.lastName}} 
                  </a>
                    <hr />
                    <p>Joueurs</p>
                  <a mat-list-item (click)="selectUser(player?.player);snav.toggle()" [ngClass]="{'active_chat': selectedItem == player}" *ngFor="let player of players">
                    <div *ngIf="!player?.player?.picture" class="media-left" style="margin: 10px;"> 
                      <img src="https://ptetutorials.com/images/user-profile.png" class="img-circle img-sm" alt="sunil"> 
                    </div>
                    <div *ngIf="player?.player?.picture" class="media-left" style="margin: 10px;"> 
                      <img [src]="player?.player?.picture" class="img-circle img-sm" alt="sunil"> 
                    </div>
                    {{player?.player?.firstName}} {{player?.player?.lastName}} </a>
                </mat-nav-list>
              </mat-sidenav>
          
              <mat-sidenav-content>
            
           <div class="containerMobile">
               <div class="col-md-12 col-lg-6">
                   <div class="panel">
                     <!--Heading-->
                   <div class="panel-heading">
                     <div class="panel-control">
                     </div>
                   </div>
               
                   <!--Widget body-->
                   <div id="demo-chat-body">
                     <div class="nano has-scrollbar" style="height:60vh">
                       <div class="nano-content pad-all" tabindex="0" style="right: -17px;" #scrollMe style="overflow: scroll; height: xyz;">
                        <div class="text-center no-message" *ngIf="!conv">
                          <p>Chargement...</p>
                        </div>
      
                        <div class="text-center no-message" *ngIf="conv?.length == 0">
                          <p>Pas de messages...</p>
                        </div>
                        <div *ngIf="conv">

                        <ul class="list-unstyled media-block" *ngFor="let m of conv">
                           <li class="mar-btm" *ngIf="m?.sender != currentId">
                             <div *ngIf="!selectedItem?.picture" class="media-left">
                              <img src="https://ptetutorials.com/images/user-profile.png"  class="img-circle img-sm" alt="sunil">
                            </div>
                            <div *ngIf="selectedItem?.picture" class="media-left">
                              <img src="selectedItem?.picture"  class="img-circle img-sm" alt="sunil">
                            </div>
                             <div class="media-body pad-hor">
                               <div class="speech">
                                 <a href="#" class="media-heading">{{selectedItem?.firstName}} {{selectedItem?.lastName}}</a>
                                 <p>{{m?.msg}}</p>
                                 <p class="speech-time">
                                 <i class="fa fa-clock-o fa-fw"></i>{{m?.timestamp | date:'HH:mm'}}    |    {{m?.timestamp | date:'MMM d'}}
                               </div>
                             </div>
                           </li>
                           <li class="mar-btm" *ngIf="m?.sender == currentId">
                             <!-- <div class="media-right">
                              <img src="https://ptetutorials.com/images/user-profile.png"  class="img-circle img-sm" alt="sunil">
                             </div> -->
                             <div class="media-body pad-hor speech-right">
                               <div class="speech">
                                 <!-- <a href="#" class="media-heading">Moi</a> -->
                                 <p>{{m?.msg}}</p>
                                 <p class="speech-time">
                                   <i class="fa fa-clock-o fa-fw"></i>{{m?.timestamp | date:'HH:mm'}}    |    {{m?.timestamp | date:'MMM d'}}
                                 </p>
                               </div>
                             </div>
                           </li>
                           
                         </ul>

                        </div>
                       </div>
                     <div class="nano-pane"><div class="nano-slider" style="height: 141px; transform: translate(0px, 0px);"></div></div></div>
               
                     <!--Widget footer-->
                     <div class="panel-footer">
                       <div class="row">
                         <div class="col-xs-9">
                           <input type="text" name="message" placeholder="Votre message" class="form-control chat-input" [(ngModel)]="message" />
                         </div>
                         <div class="col-xs-3">
                           <button class="btn btn-primary btn-block" (click)="submit(message)">Envoyer</button>
                         </div>
                       </div>
                     </div>
                   </div>
                 </div>
               </div>
           </div>

           <div id="fixedbutton">
            <button color="primary" mat-fab (click)="snav.toggle()">
                <mat-icon>message</mat-icon>
            </button>
        </div>
           </mat-sidenav-content>
          </mat-sidenav-container>
        </div>